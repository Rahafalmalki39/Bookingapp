{% extends "base.html" %}

{% block title %}Home - BookIt{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; text-align: center; padding: 4rem 2rem; margin-bottom: 3rem;">
    <h1 style="font-size: 3rem; font-weight: 800; margin-bottom: 1rem; text-shadow: 2px 2px 10px rgba(0,0,0,0.2);">
        Welcome to BookIt ğŸ‰
    </h1>
    
    {% if user %}
        <p style="font-size: 1.3rem; margin-bottom: 2rem; opacity: 0.95;">
            Hello, <strong>{{ user.name }}</strong>! Discover amazing events below.
        </p>
    {% else %}
        <p style="font-size: 1.3rem; margin-bottom: 2rem; opacity: 0.95;">
            Your Gateway to Unforgettable Experiences
        </p>
        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
            <a href="{{ url_for('register') }}" class="btn" style="background: white; color: #667eea; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                Get Started Free
            </a>
            <a href="{{ url_for('events') }}" class="btn" style="background: rgba(255,255,255,0.2); backdrop-filter: blur(10px);">
                Browse Events
            </a>
        </div>
    {% endif %}
</div>

<!-- Stats Section -->
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 3rem;">
    <div class="card" style="text-align: center; background: white;">
        <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">ğŸ«</div>
        <h3 style="font-size: 2rem; color: #667eea; margin-bottom: 0.25rem;">Easy Booking</h3>
        <p style="color: #666;">Book tickets in seconds</p>
    </div>
    <div class="card" style="text-align: center; background: white;">
        <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">ğŸ”’</div>
        <h3 style="font-size: 2rem; color: #667eea; margin-bottom: 0.25rem;">100% Secure</h3>
        <p style="color: #666;">Your data is protected</p>
    </div>
    <div class="card" style="text-align: center; background: white;">
        <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">âš¡</div>
        <h3 style="font-size: 2rem; color: #667eea; margin-bottom: 0.25rem;">Instant Confirm</h3>
        <p style="color: #666;">Get tickets immediately</p>
    </div>
</div>

<h2 style="color: white; margin-bottom: 2rem; font-size: 2rem; font-weight: 700; text-shadow: 2px 2px 4px rgba(0,0,0,0.2);">
    ğŸ”¥ Upcoming Events
</h2>

{% if events %}
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 2rem;">
        {% for event in events %}
        <div class="card" style="padding: 0; overflow: hidden; cursor: pointer;" onclick="window.location='{{ url_for('event_detail', event_id=event.id) }}'">
            <!-- Event Image -->
            <div style="width: 100%; height: 220px; overflow: hidden; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); position: relative;">
                {% if event.image_url %}
                    <img src="{{ event.image_url }}" alt="{{ event.name }}" 
                         style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease;">
                {% else %}
                    <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 5rem;">
                        ğŸ‰
                    </div>
                {% endif %}
                <div class="badge" style="position: absolute; top: 1rem; right: 1rem;">{{ event.category }}</div>
            </div>
            
            <!-- Event Details -->
            <div style="padding: 1.75rem;">
                <h3 style="color: #333; margin-bottom: 1rem; font-size: 1.4rem; font-weight: 700;">
                    {{ event.name }}
                </h3>
                
                <div style="display: flex; flex-direction: column; gap: 0.75rem; margin-bottom: 1.5rem;">
                    <div style="display: flex; align-items: center; gap: 0.5rem; color: #666;">
                        <span style="font-size: 1.1rem;">ğŸ“…</span>
                        <span>{{ event.date }} â€¢ {{ event.time }}</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 0.5rem; color: #666;">
                        <span style="font-size: 1.1rem;">ğŸ“</span>
                        <span>{{ event.venue }}</span>
                    </div>
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div style="font-size: 1.75rem; font-weight: 700; color: #667eea;">
                            ${{ event.price }}
                        </div>
                        <div style="color: {% if event.available_seats < 20 %}#dc3545{% else %}#28a745{% endif %}; font-weight: 600;">
                            {% if event.available_seats > 0 %}
                                {{ event.available_seats }} left
                            {% else %}
                                Sold Out
                            {% endif %}
                        </div>
                    </div>
                </div>
                
                <a href="{{ url_for('event_detail', event_id=event.id) }}" class="btn" style="width: 100%; text-align: center; display: block; text-decoration: none;">
                    View Details â†’
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <div class="card" style="text-align: center; padding: 4rem 2rem;">
        <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸª</div>
        <h2 style="color: #667eea; margin-bottom: 1rem;">No Events Yet</h2>
        <p style="color: #666; font-size: 1.1rem; margin-bottom: 2rem;">
            Be the first to create an amazing event!
        </p>
        {% if session.get('user_role') == 'admin' %}
            <a href="{{ url_for('create_event') }}" class="btn">Create First Event</a>
        {% endif %}
    </div>
{% endif %}
<!-- Features Section -->
<div class="card" style="margin-top: 3rem; background: white; border: 2px solid #667eea;">
    <h2 style="color: #667eea; margin-bottom: 2rem; font-size: 2rem; text-align: center; font-weight: 700;">
        Why Choose BookIt?
    </h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem;">
        <div style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">âš¡</div>
            <h3 style="color: #333; margin-bottom: 0.75rem; font-weight: 600;">Lightning Fast</h3>
            <p style="color: #666; line-height: 1.7;">Book your tickets in just a few clicks with our streamlined process</p>
        </div>
        <div style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ›¡ï¸</div>
            <h3 style="color: #333; margin-bottom: 0.75rem; font-weight: 600;">Bank-Level Security</h3>
            <p style="color: #666; line-height: 1.7;">Your data is protected with enterprise-grade encryption</p>
        </div>
        <div style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“±</div>
            <h3 style="color: #333; margin-bottom: 0.75rem; font-weight: 600;">Digital Tickets</h3>
            <p style="color: #666; line-height: 1.7;">Access your tickets anytime, anywhere on any device</p>
        </div>
        <div style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ¯</div>
            <h3 style="color: #333; margin-bottom: 0.75rem; font-weight: 600;">Best Selection</h3>
            <p style="color: #666; line-height: 1.7;">Curated collection of the most amazing events</p>
        </div>
    </div>
</div>
{% endblock %}