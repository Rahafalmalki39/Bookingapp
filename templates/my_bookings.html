{% extends "base.html" %}

{% block title %}My Bookings - BookIt{% endblock %}

{% block content %}
<div class="card">
    <h1 style="color: #667eea; margin-bottom: 1rem;">My Bookings</h1>
    <p style="color: #666; font-size: 1.1rem;">View and manage your event bookings</p>
</div>

{% if bookings %}
    <div style="display: grid; gap: 1.5rem;">
        {% for booking in bookings %}
        <div class="card" style="border-left: 4px solid #667eea;">
            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; align-items: center;">
                <div>
                    <h3 style="color: #667eea; margin-bottom: 0.75rem; font-size: 1.5rem;">
                        {{ booking.event_name }}
                    </h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1rem;">
                        <div>
                            <p style="color: #999; font-size: 0.9rem; margin-bottom: 0.25rem;">Booking ID</p>
                            <p style="color: #333; font-weight: 500;">{{ booking.id[:8] }}...</p>
                        </div>
                        
                        <div>
                            <p style="color: #999; font-size: 0.9rem; margin-bottom: 0.25rem;">Booking Date</p>
                            <p style="color: #333; font-weight: 500;">{{ booking.booking_date.strftime('%Y-%m-%d %H:%M') if booking.booking_date else 'N/A' }}</p>
                        </div>
                        
                        <div>
                            <p style="color: #999; font-size: 0.9rem; margin-bottom: 0.25rem;">Number of Tickets</p>
                            <p style="color: #333; font-weight: 500; font-size: 1.2rem;">{{ booking.tickets }} ðŸŽ«</p>
                        </div>
                        
                        <div>
                            <p style="color: #999; font-size: 0.9rem; margin-bottom: 0.25rem;">Total Amount</p>
                            <p style="color: #667eea; font-weight: bold; font-size: 1.3rem;">${{ booking.total_price }}</p>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <div style="background: {% if booking.status == 'confirmed' %}#d4edda{% else %}#fff3cd{% endif %}; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                        <p style="color: #999; font-size: 0.9rem; margin-bottom: 0.25rem;">Status</p>
                        <p style="color: {% if booking.status == 'confirmed' %}#28a745{% else %}#ffc107{% endif %}; font-weight: bold; font-size: 1.2rem; text-transform: uppercase;">
                            {{ booking.status }}
                        </p>
                    </div>
                    
                    <a href="{{ url_for('event_detail', event_id=booking.event_id) }}" class="btn btn-secondary" style="width: 100%; text-align: center; display: block;">
                        View Event
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <div class="card" style="text-align: center; padding: 3rem;">
        <h2 style="color: #666; margin-bottom: 1rem;">No Bookings Yet</h2>
        <p style="color: #999; font-size: 1.1rem; margin-bottom: 2rem;">Start exploring our amazing events!</p>
        <a href="{{ url_for('events') }}" class="btn" style="padding: 1rem 2rem; font-size: 1.1rem;">
            Browse Events
        </a>
    </div>
{% endif %}
{% endblock %}